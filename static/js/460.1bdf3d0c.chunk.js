"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[460,466],{150:function(e,t,n){n.d(t,{Z:function(){return d},h:function(){return l}});var i=n(689),c=n(87),r="Header_containerHeader__08Jfh",o="Header_link__xIhZh",s="Header_active__rHuVo",a=n(184),l="home";function u(){return l="moviefinder",console.log(l),l}function h(){return l="home",console.log(l),l}var d=function(){var e=(0,i.TH)();return(0,a.jsxs)("div",{className:r,children:[(0,a.jsx)(c.rU,{onClick:h,to:"/",className:"".concat(o," ").concat("/"===e.pathname||"home"===l?s:""),children:"Home"}),(0,a.jsx)(c.rU,{onClick:u,to:"/moviefinder",className:"".concat(o," ").concat("/moviefinder"===e.pathname||e.pathname.startsWith("/moviefinder/")||"moviefinder"===l?s:""),children:"Movies"})]})}},460:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var i=n(439),c=n(791),r=n(689),o=n(87),s=n(243),a="MovieDetail_img__vpKVT",l="MovieDetail_div__ORH4n",u=n(150),h=n(466),d=n(184),v="21e5477607431763e3c03abefe43c027",m="https://image.tmdb.org/t/p/";var f=function(){var e=(0,r.s0)(),t=(0,r.UO)().id,n=(0,c.useState)(null),f=(0,i.Z)(n,2),x=f[0],p=f[1],j=(0,c.useState)([]),_=(0,i.Z)(j,2),g=_[0],Z=_[1],k=(0,c.useState)([]),b=(0,i.Z)(k,2),y=b[0],w=b[1],S=(0,c.useState)(!1),C=(0,i.Z)(S,2),H=C[0],N=C[1],q=(0,c.useState)(!1),U=(0,i.Z)(q,2),L=U[0],M=U[1],E=(0,c.useState)(!0),F=(0,i.Z)(E,2),R=F[0],O=F[1],T=(0,c.useState)(!1),D=(0,i.Z)(T,2),G=D[0],J=D[1],P=(0,c.useCallback)((function(){s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(v)).then((function(e){p(e.data)})).catch((function(e){console.log(e)}))}),[t]);return(0,c.useEffect)((function(){P()}),[P]),x?(0,d.jsxs)("div",{children:[(0,d.jsx)(u.Z,{}),(0,d.jsx)("button",{onClick:function(){"home"===u.h&&e("/"),"moviefinder"===u.h&&e("/moviefinder?query=".concat(h.querryExporter))},children:"\u2190Go back"}),(0,d.jsxs)("h1",{children:[x.title," (",x.release_date.slice(0,4),")"]}),(0,d.jsxs)("div",{className:l,children:[(0,d.jsx)("aside",{children:(0,d.jsx)("img",{src:"".concat(m,"w500/").concat(x.poster_path),alt:x.title,className:a})}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{children:["User score: ",parseFloat(10*x.vote_average).toFixed(1),"%"]}),(0,d.jsx)("h2",{children:"Overview"}),(0,d.jsx)("p",{children:x.overview}),(0,d.jsx)("h2",{children:"Genres"}),(0,d.jsx)("p",{children:x.genres.map((function(e){return(0,d.jsxs)("span",{children:[" ",e.name," "]},e.id)}))})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h2",{children:(0,d.jsx)(o.rU,{to:"/movies/".concat(t,"/cast"),onClick:function(){O(!0),J(!1),N(!0),s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(v)).then((function(e){Z(e.data.cast),N(!1)})).catch((function(e){console.log(e),N(!1)})),e("/movies/".concat(t,"/cast"))},children:"Cast"})}),(0,d.jsx)("h2",{children:(0,d.jsx)(o.rU,{to:"/movies/".concat(t,"/reviews"),onClick:function(){O(!1),J(!0),M(!0),s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(v)).then((function(e){w(e.data.results),M(!1)})).catch((function(e){console.log(e),M(!1)})),e("/movies/".concat(t,"/reviews")),console.log(h.querryExporter)},children:"Reviews"})})]}),R&&(0,d.jsx)("div",{children:H?(0,d.jsx)("div",{children:"Loading cast..."}):(0,d.jsx)("ul",{children:g.map((function(e){return(0,d.jsxs)("li",{children:[e.profile_path&&(0,d.jsx)("img",{src:"".concat(m,"w200/").concat(e.profile_path),alt:e.name}),(0,d.jsx)("p",{children:e.name})]},e.id)}))})}),G&&(0,d.jsx)("div",{children:L?(0,d.jsx)("div",{children:"Loading reviews..."}):(0,d.jsx)("ul",{children:y.map((function(e){return(0,d.jsxs)("li",{children:[(0,d.jsx)("h3",{children:e.author}),(0,d.jsx)("p",{children:e.content})]},e.id)}))})})]}):(0,d.jsx)("div",{children:"Loading..."})}},466:function(e,t,n){n.r(t),n.d(t,{default:function(){return f},querryExporter:function(){return i}});var i,c=n(439),r=n(791),o=n(243),s=n(689),a="MovieFinder_input__6zWhA",l="MovieFinder_button__t8Jtk",u="MovieFinder_form__rlPkc",h=n(846),d=n(150),v=n(184),m="21e5477607431763e3c03abefe43c027";var f=function(){var e=(0,r.useState)(""),t=(0,c.Z)(e,2),n=t[0],f=t[1],x=(0,r.useState)([]),p=(0,c.Z)(x,2),j=p[0],_=p[1],g=(0,r.useState)(!1),Z=(0,c.Z)(g,2),k=Z[0],b=Z[1],y=(0,r.useState)(!1),w=(0,c.Z)(y,2),S=w[0],C=w[1],H=(0,s.s0)(),N=(0,s.TH)();return i=n,(0,r.useEffect)((function(){var e=new URLSearchParams(N.search).get("query");f(e);e&&(b(!0),o.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(m,"&query=").concat(e)).then((function(e){_(e.data.results),b(!1),C(!0)})).catch((function(e){console.log(e),b(!1),C(!0)})))}),[N.search]),(0,v.jsxs)("div",{children:[(0,v.jsx)(d.Z,{}),(0,v.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b(!0),""!==n.trim()&&(o.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(m,"&query=").concat(n)).then((function(e){_(e.data.results),b(!1),C(!0)})).catch((function(e){console.log(e),b(!1),C(!0)})),H("/moviefinder?query=".concat(n)))},className:u,children:[(0,v.jsx)("input",{type:"text",value:n,onChange:function(e){f(e.target.value)},className:a}),(0,v.jsx)("button",{type:"submit",className:l,children:"Search"})]}),S&&(0,v.jsx)("div",{children:k?(0,v.jsx)("div",{children:"Loading search results..."}):0===j.length?(0,v.jsx)("p",{children:"Sorry, no movies were found."}):(0,v.jsx)(h.Z,{searchResults:j})})]})}},846:function(e,t,n){n.d(t,{Z:function(){return s}});n(791);var i=n(87),c="movieList_movielist__THggt",r="movieList_movielistitem__-9Oco",o=n(184),s=function(e){var t=e.searchResults;return(0,o.jsx)("ul",{className:c,children:t.map((function(e){return(0,o.jsx)("li",{className:r,children:(0,o.jsx)(i.rU,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})}}}]);
//# sourceMappingURL=460.1bdf3d0c.chunk.js.map