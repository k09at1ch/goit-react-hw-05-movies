"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[460,107],{150:function(e,t,n){n.d(t,{Z:function(){return u},h:function(){return l}});var i=n(689),c=n(87),r="Header_containerHeader__08Jfh",o="Header_link__xIhZh",s="Header_active__rHuVo",a=n(184),l="home";function d(){return l="moviefinder",console.log(l),l}function h(){return l="home",console.log(l),l}var u=function(){var e=(0,i.TH)();return(0,a.jsxs)("div",{className:r,children:[(0,a.jsx)(c.rU,{onClick:h,to:"/",className:"".concat(o," ").concat("/"===e.pathname||"home"===l?s:""),children:"Home"}),(0,a.jsx)(c.rU,{onClick:d,to:"/moviefinder",className:"".concat(o," ").concat("/moviefinder"===e.pathname||e.pathname.startsWith("/moviefinder/")||"moviefinder"===l?s:""),children:"Movies"})]})}},460:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var i=n(439),c=n(791),r=n(689),o=n(87),s=n(243),a="MovieDetail_img__vpKVT",l="MovieDetail_div__ORH4n",d=n(150),h=n(107),u=n(184),v="21e5477607431763e3c03abefe43c027",m="https://image.tmdb.org/t/p/";var f=function(){var e=(0,r.s0)(),t=(0,r.UO)().id,n=(0,c.useState)(null),f=(0,i.Z)(n,2),p=f[0],x=f[1],j=(0,c.useState)([]),_=(0,i.Z)(j,2),g=_[0],Z=_[1],k=(0,c.useState)([]),b=(0,i.Z)(k,2),y=b[0],w=b[1],S=(0,c.useState)(!1),N=(0,i.Z)(S,2),C=N[0],U=N[1],H=(0,c.useState)(!1),M=(0,i.Z)(H,2),F=M[0],q=M[1],E=(0,c.useState)(!0),L=(0,i.Z)(E,2),Q=L[0],O=L[1],V=(0,c.useState)(!1),D=(0,i.Z)(V,2),G=D[0],J=D[1],R=(0,c.useCallback)((function(){s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(v)).then((function(e){x(e.data)})).catch((function(e){console.log(e)}))}),[t]);return(0,c.useEffect)((function(){R()}),[R]),p?(0,u.jsxs)("div",{children:[(0,u.jsx)(d.Z,{}),(0,u.jsx)("button",{onClick:function(){"home"===d.h&&e("/"),"moviefinder"===d.h&&e("/moviefinder/".concat(h.querryExporter))},children:"\u2190Go back"}),(0,u.jsxs)("h1",{children:[p.title," (",p.release_date.slice(0,4),")"]}),(0,u.jsxs)("div",{className:l,children:[(0,u.jsx)("aside",{children:(0,u.jsx)("img",{src:"".concat(m,"w500/").concat(p.poster_path),alt:p.title,className:a})}),(0,u.jsxs)("div",{children:[(0,u.jsxs)("h2",{children:["User score: ",parseFloat(10*p.vote_average).toFixed(1),"%"]}),(0,u.jsx)("h2",{children:"Overview"}),(0,u.jsx)("p",{children:p.overview}),(0,u.jsx)("h2",{children:"Genres"}),(0,u.jsx)("p",{children:p.genres.map((function(e){return(0,u.jsxs)("span",{children:[" ",e.name," "]},e.id)}))})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h2",{children:(0,u.jsx)(o.rU,{to:"/movies/".concat(t,"/cast"),onClick:function(){O(!0),J(!1),U(!0),s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(v)).then((function(e){Z(e.data.cast),U(!1)})).catch((function(e){console.log(e),U(!1)})),e("/movies/".concat(t,"/cast"))},children:"Cast"})}),(0,u.jsx)("h2",{children:(0,u.jsx)(o.rU,{to:"/movies/".concat(t,"/reviews"),onClick:function(){O(!1),J(!0),q(!0),s.Z.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(v)).then((function(e){w(e.data.results),q(!1)})).catch((function(e){console.log(e),q(!1)})),e("/movies/".concat(t,"/reviews")),console.log(h.querryExporter)},children:"Reviews"})})]}),Q&&(0,u.jsx)("div",{children:C?(0,u.jsx)("div",{children:"Loading cast..."}):(0,u.jsx)("ul",{children:g.map((function(e){return(0,u.jsxs)("li",{children:[e.profile_path&&(0,u.jsx)("img",{src:"".concat(m,"w200/").concat(e.profile_path),alt:e.name}),(0,u.jsx)("p",{children:e.name})]},e.id)}))})}),G&&(0,u.jsx)("div",{children:F?(0,u.jsx)("div",{children:"Loading reviews..."}):(0,u.jsx)("ul",{children:y.map((function(e){return(0,u.jsxs)("li",{children:[(0,u.jsx)("h3",{children:e.author}),(0,u.jsx)("p",{children:e.content})]},e.id)}))})})]}):(0,u.jsx)("div",{children:"Loading..."})}},107:function(e,t,n){n.r(t),n.d(t,{default:function(){return x},querryExporter:function(){return i}});var i,c=n(439),r=n(791),o=n(87),s=n(243),a=n(150),l=n(689),d="MovieFinder_input__9LWrY",h="MovieFinder_button__JcpsB",u="MovieFinder_form__PfyNQ",v="MovieFinder_movielist__t5dfV",m="MovieFinder_movielistitem__bnXVU",f=n(184),p="21e5477607431763e3c03abefe43c027";var x=function(){var e=(0,r.useState)(""),t=(0,c.Z)(e,2),n=t[0],x=t[1],j=(0,r.useState)([]),_=(0,c.Z)(j,2),g=_[0],Z=_[1],k=(0,r.useState)(!1),b=(0,c.Z)(k,2),y=b[0],w=b[1],S=(0,r.useState)(!1),N=(0,c.Z)(S,2),C=N[0],U=N[1],H=(0,l.s0)(),M=(0,l.UO)();return i=n,(0,r.useEffect)((function(){M.searchQuery&&(x(M.searchQuery),w(!0),s.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(p,"&query=").concat(M.searchQuery)).then((function(e){Z(e.data.results),w(!1),U(!0)})).catch((function(e){console.log(e),w(!1),U(!0)})))}),[M.searchQuery]),(0,f.jsxs)("div",{children:[(0,f.jsx)(a.Z,{}),(0,f.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(!0),""!==n.trim()&&(s.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(p,"&query=").concat(n)).then((function(e){Z(e.data.results),w(!1),U(!0)})).catch((function(e){console.log(e),w(!1),U(!0)})),H("/moviefinder/".concat(n)))},className:u,children:[(0,f.jsx)("input",{type:"text",value:n,onChange:function(e){x(e.target.value)},className:d}),(0,f.jsx)("button",{type:"submit",className:h,children:"Search"})]}),C&&(0,f.jsx)("div",{children:y?(0,f.jsx)("div",{children:"Loading search results..."}):0===g.length?(0,f.jsx)("p",{children:"Sorry, no movies were found."}):(0,f.jsx)("ul",{className:v,children:g.map((function(e){return(0,f.jsx)("li",{className:m,children:(0,f.jsx)(o.rU,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})})]})}}}]);
//# sourceMappingURL=460.55235dd2.chunk.js.map