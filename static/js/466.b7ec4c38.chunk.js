"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[466],{150:function(e,t,n){n.d(t,{Z:function(){return m},h:function(){return u}});var r=n(689),c=n(87),i="Header_containerHeader__08Jfh",o="Header_link__xIhZh",a="Header_active__rHuVo",s=n(184),u="home";function l(){return u="moviefinder",console.log(u),u}function h(){return u="home",console.log(u),u}var m=function(){var e=(0,r.TH)();return(0,s.jsxs)("div",{className:i,children:[(0,s.jsx)(c.rU,{onClick:h,to:"/",className:"".concat(o," ").concat("/"===e.pathname||"home"===u?a:""),children:"Home"}),(0,s.jsx)(c.rU,{onClick:l,to:"/moviefinder",className:"".concat(o," ").concat("/moviefinder"===e.pathname||e.pathname.startsWith("/moviefinder/")||"moviefinder"===u?a:""),children:"Movies"})]})}},466:function(e,t,n){n.r(t),n.d(t,{default:function(){return v},querryExporter:function(){return r}});var r,c=n(439),i=n(791),o=n(243),a=n(689),s="MovieFinder_input__6zWhA",u="MovieFinder_button__t8Jtk",l="MovieFinder_form__rlPkc",h=n(846),m=n(150),d=n(184),f="21e5477607431763e3c03abefe43c027";var v=function(){var e=(0,i.useState)(""),t=(0,c.Z)(e,2),n=t[0],v=t[1],_=(0,i.useState)([]),p=(0,c.Z)(_,2),x=p[0],g=p[1],j=(0,i.useState)(!1),k=(0,c.Z)(j,2),Z=k[0],y=k[1],b=(0,i.useState)(!1),H=(0,c.Z)(b,2),N=H[0],S=H[1],w=(0,a.s0)(),q=(0,a.TH)();return r=n,(0,i.useEffect)((function(){var e=new URLSearchParams(q.search).get("query");v(e);e&&(y(!0),o.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(f,"&query=").concat(e)).then((function(e){g(e.data.results),y(!1),S(!0)})).catch((function(e){console.log(e),y(!1),S(!0)})))}),[q.search]),(0,d.jsxs)("div",{children:[(0,d.jsx)(m.Z,{}),(0,d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(!0),""!==n.trim()&&(o.Z.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(f,"&query=").concat(n)).then((function(e){g(e.data.results),y(!1),S(!0)})).catch((function(e){console.log(e),y(!1),S(!0)})),w("/moviefinder?query=".concat(n)))},className:l,children:[(0,d.jsx)("input",{type:"text",value:n,onChange:function(e){v(e.target.value)},className:s}),(0,d.jsx)("button",{type:"submit",className:u,children:"Search"})]}),N&&(0,d.jsx)("div",{children:Z?(0,d.jsx)("div",{children:"Loading search results..."}):0===x.length?(0,d.jsx)("p",{children:"Sorry, no movies were found."}):(0,d.jsx)(h.Z,{searchResults:x})})]})}},846:function(e,t,n){n.d(t,{Z:function(){return a}});n(791);var r=n(87),c="movieList_movielist__THggt",i="movieList_movielistitem__-9Oco",o=n(184),a=function(e){var t=e.searchResults;return(0,o.jsx)("ul",{className:c,children:t.map((function(e){return(0,o.jsx)("li",{className:i,children:(0,o.jsx)(r.rU,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})}}}]);
//# sourceMappingURL=466.b7ec4c38.chunk.js.map